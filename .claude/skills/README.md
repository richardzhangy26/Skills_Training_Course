# 能力训练 Skills

## training-rubric-generator (v1.0) 🆕

### 功能
根据实训任务文档生成或完善详细的评价标准，包括评分项、评价描述、大模型参考的评判指南、正反例和评分逻辑。

**✨ 特色功能**:
- 🤖 自动提取文档中的现有评价标准
- 🎯 根据课程类型自动生成定制化评价标准
- 📚 生成大模型友好的详细评判指南（200-300字）
- ✅ 包含关键评判点、常见错误、评分逻辑
- 📋 提供优秀和不足示例

### 何时使用
当你需要为训练创建或完善评价标准时，使用此 skill:
- "生成评价标准"
- "创建评分标准"
- "为这个课程完善评价标准"
- 或提供实训任务文档需要生成评价标准

### 核心特性

#### 智能标准提取/生成
- **文档中有现有标准**: 智能提取并自动补充详细信息
- **文档中无标准**: 根据课程类型自动生成3-5个合理的评分项

#### 大模型优化的评判指南
每个评分项包含：
- **描述** (200-300字): 详细的评判参考要求
- **关键点** (3-4个): 评判时应关注的具体方面
- **常见错误** (3-4个): 帮助AI识别常见的不足
- **评分逻辑**: 按分值等级的清晰定义

#### 完整的示例体系
- **优秀示例** (1个): 展示高分应该是什么样
- **不足示例** (2个+): 展示常见错误或低分情况
- **详细说明**: 说明示例的优点或问题

### 文档要求
你的实训任务文档应包含:
- ✅ **任务目标**: 教学意图和能力培养目标
- ✅ **任务描述**: 任务内容和要求
- ⭐ **评价标准** (可选): 如有现成的可自动提取并完善

### 输出内容
Skill 会在任务文档所在目录创建一个以任务名称命名的文件夹，并生成:
1. **评价标准.json** - 规范化配置文件，包含：
   - 所有评分项的完整信息
   - 大模型评判指南
   - 正反例和评分逻辑
   - 元数据
2. **评价标准.md** - 人类可读的Markdown格式

### 支持的课程类型

| 课程类型 | 关键词 | 自动生成的评分项 |
|---------|-------|-----------------|
| 工业故障诊断 | 离心泵、汽蚀、故障 | 故障识别、原因分析、解决方案 |
| 化学实验 | 精馏、操作、实验 | 原理理解、操作规范、结果分析 |
| 沟通训练 | 沟通、非暴力、协作 | 倾听能力、表达清晰、问题解决 |
| 电力系统 | 电力、发电、变电 | 知识掌握、理论应用、分析能力 |
| 其他课程 | 通用 | 知识理解、内容完整、逻辑清晰 |

### 使用示例

#### 方法 1: 提取并完善现有标准
```
请根据以下文档生成详细的评价标准:
@发电厂变电所 - 锡林郭勒职业学院 2个/任务1：发电厂、变电所的认知.md
```
系统会：
1. 从文档表格中提取现有评分项
2. 自动补充大模型评判指南
3. 生成正反例和评分逻辑

#### 方法 2: 自动生成评价标准
```
@实训任务文档.md 生成完整的评价标准
```
系统会：
1. 识别课程类型
2. 自动生成3-5个合理的评分项
3. 生成详细的评判指南和示例

### 输出目录结构
```
发电厂变电所 - 锡林郭勒职业学院 2个/
├── 任务1：发电厂、变电所的认知.md
└── 任务1：发电厂、变电所的认知/
    ├── 基础配置.json               # config-setup生成
    ├── 评价标准.json               # ← rubric-generator生成
    └── 评价标准.md                 # ← rubric-generator生成
```

### 查看详细文档
- [SKILL.md](./training-rubric-generator/SKILL.md) - 完整技术文档
- [README.md](./training-rubric-generator/README.md) - 快速入门指南
- [examples.md](./training-rubric-generator/examples.md) - 详细使用示例

### 工具权限
此 skill 使用的工具:
- `Read`: 读取文档文件
- `Write`: 保存配置文件

---

## training-config-setup (v1.0) 🆕

### 功能
根据实训任务文档快速生成基础配置和AI生成的高质量训练封面图，包含任务名称、描述和16:9格式的Doubao生成的专业级封面。

**✨ 特色功能**:
- 🤖 自动提取任务名称和描述
- 🎨 Doubao智能模型生成16:9封面图
- 🎯 根据课程类型自动匹配提示词
- 📋 规范化JSON配置输出

### 何时使用
当你需要为训练快速生成基础配置和封面图时，使用此 skill:
- "生成基础配置和封面图"
- "为这个课程生成配置"
- "创建训练的封面图"
- 或提供实训任务文档并要求生成基础配置

### 核心特性

#### 智能提示词生成
根据课程内容自动匹配提示词：
- **离心泵、汽蚀** → 工业故障诊断风格
- **精馏** → 化学实验室风格
- **展馆** → 科技展示风格
- **非暴力沟通** → 协作沟通风格
- **投资** → 商务会议风格

#### 16:9高清封面图
- 分辨率: 2560×1440 (2K)
- 格式: 16:9宽屏，适配所有现代设备
- 模型: Doubao (doubao-seedream-4-0-250828)
- 水印: 自动添加

### 文档要求
你的实训任务文档应包含:
- ✅ **任务名称**: 清晰的课程或任务名称
- ✅ **任务目标**: 教学意图和能力培养目标
- ✅ **任务描述**: 课程概述，100-200字

### 输出内容
Skill 会在任务文档所在目录创建一个以任务名称命名的文件夹，并生成:
1. **基础配置.json** - 规范化的配置文件，包含：
   - 任务名称和描述
   - 生成的封面图URL
   - 提示词信息
   - 元数据
2. **封面图提示词.txt** - 提示词备份文档
3. **封面图** - 16:9的高清专业级训练封面

### 使用示例

#### 方法 1: 引用文档文件
```
请根据以下文档生成基础配置和封面图:
@化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
```

#### 方法 2: 一键全流程
```
@实训任务文档.md 我需要生成基础配置、训练剧本和对话流程
```
会自动按顺序调用: training-config-setup → training-script-generator → training-dialogue-simulator

### 输出目录结构
假设您的实训任务文档是：
```
化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
```

执行技能后，会自动创建：
```
化工原理-武夷学院/
├── 实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
└── 离心泵汽蚀故障紧急诊断/
    ├── 基础配置.json               # ← config-setup生成
    ├── 封面图提示词.txt             # ← config-setup生成
    ├── 训练剧本配置.md              # ← script-generator生成
    └── 对话流程模拟.md              # ← dialogue-simulator生成
```

### 查看详细文档
- [SKILL.md](./training-config-setup/SKILL.md) - Skill 的完整说明
- [README.md](./training-config-setup/README.md) - 快速入门指南
- [examples.md](./training-config-setup/examples.md) - 详细使用示例

### 工具权限
此 skill 使用的工具:
- `Read`: 读取文档文件
- `Write`: 保存配置文件

### 环境配置要求
需要设置 `ARK_API_KEY` 环境变量：
```bash
export ARK_API_KEY='your-volces-api-key'
```

---

## training-script-generator (v1.2)

### 功能
根据实训任务文档自动生成完整的能力训练剧本配置，输出 **Markdown 格式**的易读配置文件。

**✨ 最新更新 (v1.2)**:
- 改为输出 Markdown 格式（之前是 JSON），方便复制粘贴
- 自动创建以任务文档命名的文件夹
- 所有生成文件保存到专属文件夹中

### 何时使用
当你提到以下关键词时，Claude 会自动调用此 skill:
- "生成训练剧本"
- "配置能力训练"
- "实训任务配置"
- "创建能力训练"
- 或提供实训任务文档并要求生成配置

### 核心特性

#### ⚠️ 严格遵循对话示例（v1.1 新增）
如果你的实训文档包含以下部分，skill 会**完整还原**对话流程：
- ✅ "对话情景与示例"
- ✅ "开场"
- ✅ "学生可能的回答1、2、3..."
- ✅ "智能体追问"
- ✅ "新增问题与追问"

生成的提示词将包含完整的对话分支逻辑，确保测试时按照预期顺序进行。

### 文档要求
你的实训任务文档应包含:
- ✅ **任务目标**: 教学意图、能力培养目标
- ✅ **任务描述**: 智能体人设(角色、性格、背景)、任务流程、阶段划分
- ✅ **评价标准**: 评分项名称、分值、详细要求
- ⭐ **对话情景与示例**(强烈推荐): 开场白、学生可能的回答、智能体追问等

### 输出内容
Skill 会在任务文档所在目录创建一个以任务名称命名的文件夹，并生成 `训练剧本配置.md` 文件，包含:
1. **📋 基础配置**: 任务名称、描述、智能体角色等
2. **📝 训练阶段**: 每个阶段的详细配置
   - 阶段名称
   - 阶段描述（核心目标，1-2句话）
   - 互动轮次 (0-10)
   - 开场白（原文）
   - 提示词（完整的 LangGPT 框架，使用代码块）
   - 场景配置
3. **🔀 阶段跳转关系**: 跳转逻辑和触发条件
4. **💡 配置说明**: 设计思路、优化建议

### 使用示例

#### 方法 1: 引用文档文件
```
请根据以下文档生成训练剧本配置:
@化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
```

#### 方法 2: 直接粘贴内容
```
请生成训练剧本配置:

# 任务目标
通过智能体技术模拟投资推介会场景...

# 任务描述
...

# 对话情景与示例
开场：
"小张，你是新来的大学生吧？..."

学生可能的回答1：
...

智能体追问：
...
```

### 对话流程示例对比

#### 没有对话示例的文档
生成的提示词：
```
## Workflow
1. 听取学生回答
2. 针对回答提出2-3个问题
3. 根据情况深入追问
```

#### 有对话示例的文档（推荐）
生成的提示词：
```
## 对话流程

### 开场
"小张，你是新来的大学生吧？别愣着了，B区的原料输送泵（P-101B）又跳停了！现场操作工说启动时泵里头'咔咔'响，出口压力也晃得厉害。你马上去看看，给我个初步判断，到底怎么回事？"

### 对话分支

**学生回答场景1**: "李主任，听起来像是离心泵发生了汽蚀。"
- 你的追问: "汽蚀？行，你说说，你凭什么判断是汽蚀？书上写的不算，我要听现场能看到的、听到的证据！还有，你说说我们这台泵，好好地怎么就汽蚀了？"
- 追问目的: 考察学生能否将理论与现场证据结合，并分析汽蚀的原因

**学生回答场景2**: "主任，我需要先去现场确认一下泵的入口阀门是不是全开了，还有入口过滤器有没有堵塞。"
- 你的追问: "这是基本操作，我让老王查过了，都没问题。你再想想，还有什么原因会导致吸不上料？是不是忘了什么关键步骤？我们早上刚检修完这条线，你提醒我一下，这种泵启动前第一件事是什么？"
- 追问目的: 引导学生思考"灌泵"这个关键步骤
```

可以看到，有对话示例的文档生成的配置**更精确、更符合测试要求**！

### 支持的场景类型
- ✅ 线性流程任务(如:投资推介会)
- ✅ 展馆/多选一场景(如:虚拟展馆参观)
- ✅ 多角色扮演(如:非暴力沟通训练)
- ✅ 紧急故障诊断(如:离心泵汽蚀故障)
- ✅ 分阶段深度交互

### 查看详细文档
- [SKILL.md](./training-script-generator/SKILL.md) - Skill 的完整说明和使用指南
- [reference.md](./training-script-generator/reference.md) - JSON 配置格式参考和提示词框架详解
- [examples.md](./training-script-generator/examples.md) - 完整的使用示例
- [CHANGELOG.md](./training-script-generator/CHANGELOG.md) - 版本更新日志

### 输出目录结构
假设您的实训任务文档是：
```
化工原理-武夷学院/实训任务文档2-共沸精馏法制备无水乙醇.md
```

执行技能后，会自动创建：
```
化工原理-武夷学院/
├── 实训任务文档2-共沸精馏法制备无水乙醇.md
└── 实训任务文档2-共沸精馏法制备无水乙醇/    # 新创建
    └── 训练剧本配置.md                        # Markdown格式
```

### 下一步
生成配置后:
1. 打开 `训练剧本配置.md` 文件查看完整配置
2. 复制提示词等内容到能力训练平台
3. 根据测试效果调整提示词和互动轮次
4. 上传必要的背景图、资源文件

### 工具权限
此 skill 使用的工具:
- `Read`: 读取文档文件
- `Grep`: 搜索关键信息
- `Glob`: 查找相关文件
- `Write`: 保存生成的配置文件

---

## training-dialogue-simulator (v1.1)

### 功能
根据实训任务文档，模拟完整的能力训练对话流程，严格按照文档中的对话示例和顺序生成详细的对话脚本和测试案例。

**✨ 最新更新 (v1.1)**:
- 自动创建以任务文档命名的文件夹
- 生成的对话流程文档保存到专属文件夹中

### 何时使用
当你提到以下关键词时，Claude 会自动调用此 skill:
- "测试对话流程"
- "模拟对话"
- "对话测试"
- "验证对话"
- 或需要查看完整的对话示例

### 输出内容
生成完整的 Markdown 格式对话流程文档，包含:
1. **智能体角色设定**: 详细的人设信息
2. **对话流程**: 按阶段、分支完整展开所有对话路径
   - 开场白（原文）
   - 学生可能的回答1、2、3...
   - 对应的智能体追问（原文）
   - 追问目的和预期回答
3. **完整对话示例**: 至少3个不同水平的完整对话（优秀、中等、欠佳）
4. **评分对照表**: 对话表现与评分的对应关系
5. **测试要点**: 7个测试步骤的详细说明

### 使用示例

```
请模拟 @化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md 的完整对话流程
```

### 输出目录结构
与 `training-script-generator` 共用同一个文件夹：
```
化工原理-武夷学院/
├── 实训任务文档2-共沸精馏法制备无水乙醇.md
└── 实训任务文档2-共沸精馏法制备无水乙醇/
    ├── 训练剧本配置.md          # script-generator生成
    └── 对话流程模拟.md          # dialogue-simulator生成
```

### 与 training-script-generator 的区别

| 特性 | training-script-generator | training-dialogue-simulator |
|------|-------------------------|---------------------------|
| 主要用途 | 生成训练剧本配置 | 生成对话测试脚本 |
| 输出文件 | 训练剧本配置.md | 对话流程模拟.md |
| 输出格式 | Markdown（易读的配置） | Markdown（详细的对话示例） |
| 内容重点 | 提示词、场景配置、跳转逻辑 | 完整对话示例、测试步骤 |
| 使用场景 | 配置能力训练 | 测试验证对话效果 |
| 对话示例 | 不包含 | 包含3+个完整示例 |

**建议工作流程**:
1. 使用 `training-script-generator` 生成 JSON 配置
2. 在平台中配置能力训练
3. 使用 `training-dialogue-simulator` 生成测试脚本
4. 按照测试脚本验证对话效果
5. 根据测试结果调整配置

### 查看详细文档
- [SKILL.md](./training-dialogue-simulator/SKILL.md) - Skill 的完整说明
- [examples.md](./training-dialogue-simulator/examples.md) - 离心泵故障诊断的完整对话示例

---

## 快速开始

### 🚀 完整工作流程（推荐）

一次调用生成所有配置：

```
@化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
我需要生成基础配置、封面图、评价标准、训练剧本和对话流程
```

自动执行顺序：
1. **training-config-setup** → 生成基础配置和16:9封面图
2. **training-rubric-generator** → 生成详细的评价标准
3. **training-script-generator** → 生成完整训练剧本配置
4. **training-dialogue-simulator** → 生成对话流程测试脚本

### 方式1：三步工作流（推荐）

```
# 第一步：生成基础配置和封面图
@实训任务文档.md 请生成基础配置和封面图

# 第二步：生成评价标准
@实训任务文档.md 请生成评价标准

# 第三步：生成训练剧本和对话流程
@实训任务文档.md 请生成训练剧本和对话流程
```

### 方式2：分步调用（灵活）

```
# 第一步：生成基础配置和封面图
@实训任务文档.md 生成基础配置和封面图

# 第二步：生成评价标准
@实训任务文档.md 生成评价标准

# 第三步：生成训练剧本配置
@实训任务文档.md 用training-script-generator生成训练剧本配置

# 第四步：生成对话流程模拟
@实训任务文档.md 用training-dialogue-simulator生成对话流程模拟
```

### 输出目录结构

执行完整流程后会在任务目录下创建：

```
化工原理-武夷学院/
├── 实训任务文档1-离心泵"汽蚀"故障紧急诊断.md
└── 离心泵汽蚀故障紧急诊断/
    ├── 基础配置.json                # training-config-setup生成
    ├── 封面图提示词.txt              # training-config-setup生成
    ├── 评价标准.json                 # training-rubric-generator生成
    ├── 评价标准.md                   # training-rubric-generator生成
    ├── 训练剧本配置.md               # training-script-generator生成
    └── 对话流程模拟.md               # training-dialogue-simulator生成
```

所有文件都格式规范，可直接复制粘贴到能力训练平台使用！

### 完整示例

```
@化工原理-武夷学院/实训任务文档2-共沸精馏法制备无水乙醇.md
请完整生成这个课程的所有配置（基础配置、评价标准、剧本、对话流程）
```
