---
name: training-config-setup
description: 根据实训任务文档生成基础配置，包括提取任务名称、描述，以及使用Doubao模型生成16:9格式的训练封面图。关键词:基础配置、任务元信息、封面生成、Doubao、图片生成、实训任务
allowed-tools: Read, Grep, Glob, Write
---

# 训练基础配置生成器

根据实训任务文档，自动生成基础配置信息和高质量的封面图，包含任务名称、描述和AI生成的16:9格式训练封面图。

## 使用时机

当用户需要为能力训练创建基础配置信息和封面图时使用此 skill，典型场景包括:
- 用户提供了实训任务文档，需要生成任务的基础配置和封面图
- 用户询问如何快速为训练生成配置和visual assets
- 用户需要为展示或发布准备训练的配置元数据
- 用户提到"生成基础配置"、"创建训练封面"、"生成配置图片"等关键词

## Instructions

### 第一步: 读取并分析实训任务文档

1. 通过 Read 工具读取用户提供的实训任务文档
2. 从文档路径中提取任务名称（去掉路径和".md"扩展名）
3. 提取以下关键信息:
   - **任务名称**: 从文档标题或"任务目标"部分获取清晰的任务名称
   - **任务描述**: 从文档的"任务目标"或"任务描述"部分提取，简明扼要（100-200字）
   - **课程内容/主题**: 用于生成提示词

### 第二步: 生成Doubao封面图

基于任务内容生成16:9格式的高质量封面图：

1. **提示词设计**:
   - 根据课程主题和内容大小设计合适的提示词
   - 确保提示词能反映课程的核心特色和学习场景
   - 遵循16:9的宽屏格式要求

2. **提示词参考框架**:
   ```
   - 融入课程主题关键词（如离心泵、精馏、虚拟展馆等）
   - 描述学习场景或工业应用场景
   - 指定视觉风格（如：现代、工业、科技、教育等）
   - 强调16:9的宽屏比例适配
   - 使用专业的视觉描述词汇（如：高清、逼真、专业、生动等）
   ```

3. **API调用**:
   - 使用Doubao模型（doubao-seedream-4-0-250828）生成图片
   - 大小设置为"2K"（2560x1440，符合16:9）
   - 启用watermark（添加水印）
   - 返回URL格式的图片

4. **示例提示词**:
   - 对于"离心泵故障诊断": "工业化工厂，离心泵运行场景，技术人员在仔细检查泵的状态，高清现代化工业设备，蓝色和灰色调，工业气氛浓厚，16:9宽屏"
   - 对于"共沸精馏": "化学实验室，精馏装置运行，液体流动通过冷凝管，蒸馏烧瓶加热，科学仪器精密排列，蓝白调，科技感强，专业教学环境，16:9宽屏"

### 第三步: 生成基础配置JSON

整合提取的信息和生成的图片，创建基础配置：

```json
{
  "taskName": "任务名称",
  "taskDescription": "简明扼要的任务描述",
  "coverImage": {
    "url": "生成的图片URL",
    "prompt": "用于生成的提示词",
    "format": "16:9",
    "model": "doubao-seedream-4-0-250828"
  },
  "metadata": {
    "createdAt": "创建时间",
    "source": "来源文档路径"
  }
}
```

### 第四步: 保存配置和创建输出

1. 在实训任务文档所在目录创建以任务名称命名的文件夹（如果不存在）
2. 将生成的配置保存为 JSON 文件：`基础配置.json`
3. 同时保存提示词信息为 `封面图提示词.txt`
4. 向用户输出：
   - 提取的任务名称和描述
   - 生成的封面图URL
   - 使用的提示词
   - 文件保存路径

## Examples

### 示例1：离心泵故障诊断

**输入文档**: 化工原理-武夷学院/实训任务文档1-离心泵"汽蚀"故障紧急诊断.md

**提取内容**:
- 任务名称: "离心泵汽蚀故障紧急诊断"
- 任务描述: "通过模拟真实的工业现场故障场景，让学生作为工程师快速诊断和处理离心泵汽蚀问题..."

**生成提示词**: "工业化工厂，离心泵运行场景，技术人员在仔细检查泵的状态，高清现代化工业设备，蓝色和灰色调，工业气氛浓厚，精密检测仪器，16:9宽屏，电影级质感"

**生成配置**: 基础配置.json
```json
{
  "taskName": "离心泵汽蚀故障紧急诊断",
  "taskDescription": "通过模拟真实的工业现场故障场景，让学生作为工程师快速诊断和处理离心泵汽蚀问题，掌握故障排查方法和解决方案。",
  "coverImage": {
    "url": "https://ark.cn-beijing.volces.com/...",
    "prompt": "工业化工厂，离心泵运行场景，技术人员在仔细检查泵的状态，高清现代化工业设备，蓝色和灰色调，工业气氛浓厚，精密检测仪器，16:9宽屏，电影级质感",
    "format": "16:9",
    "model": "doubao-seedream-4-0-250828"
  },
  "metadata": {
    "createdAt": "2025-11-25T10:30:00Z",
    "source": "化工原理-武夷学院/实训任务文档1-离心泵汽蚀故障紧急诊断.md"
  }
}
```

## Important Notes

1. **准确提取信息**: 从文档中准确提取任务名称和描述，避免添加无关内容
2. **提示词设计**: 提示词应反映课程内容的核心特色，并确保16:9的宽屏比例
3. **API使用**: 需要 `ARK_API_KEY` 环境变量，确保已正确配置
4. **错误处理**: 如果Doubao API调用失败，应给出明确的错误提示和重试建议
5. **文件保存**: 使用 Write 工具将JSON和提示词保存到以任务命名的文件夹中
6. **格式一致**: 生成的配置格式应与现有的训练配置体系兼容

## Special Scenarios

### 不同类型课程的提示词

#### 工业故障诊断课程
- 融合工业现场的真实感
- 包含操作工具和检测仪器
- 强调技术性和专业性

#### 展馆参观课程
- 体现展馆的宏大和科技感
- 突出展示品的特色
- 营造沉浸式体验感

#### 协作沟通课程
- 体现人物互动场景
- 强调场景的真实性和代表性
- 传达学习目标

## Error Handling

如果遇到以下错误，应该：

1. **缺少ARK_API_KEY**: 提示用户配置环境变量
2. **API调用失败**: 返回详细的错误信息，建议检查网络和API额度
3. **文档读取失败**: 确保提供的是有效的MD文件路径
4. **提示词生成失败**: 询问用户是否需要手动提供提示词

## Version History

- v1.0 (2025-11-25): 初始版本，支持基础配置提取和Doubao封面图生成
