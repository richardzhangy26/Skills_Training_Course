# Training Script Generator V2 - 使用示例

本文档提供完整的使用示例，展示如何使用 training-script-generator-v2 skill 生成训练剧本配置。

## 示例类型

- **示例1**：顺序检查型 - 大学生心理健康咨询模拟
- **示例2**：累积检查型 - 新闻采访对象选择

---

## 示例1：大学生心理健康咨询模拟（顺序检查型）

### 用户输入

```text
任务：大学生心理健康咨询模拟
目标：帮助心理学专业学生练习"共情倾听"技巧。
角色：来访者"小雨"，大一新生，性格内向，最近因为加入社团被拒绝感到很受挫，觉得自己一无是处。
流程：
1. 建立关系：小雨表达心情不好，学生需要用温和的态度接纳。
2. 探究原因：小雨透露是因为社团面试失败。学生需要使用"共情"技巧（如"听起来你很难过"），而不是直接给建议（如"你可以去别的社团"）。如果学生直接给建议，小雨会生气。
3. 结束：小雨感觉被理解，心情好转。
```

### 生成的输出

---

# 大学生心理健康咨询模拟 - 训练剧本配置

## 📋 基础配置

- **任务名称**: 心理咨询技巧训练——共情与倾听
- **任务描述**: 模拟真实心理咨询场景，帮助心理学专业学生掌握"共情倾听"核心技术，避免过早建议，建立良好的咨访关系。
- **智能体角色**: 来访者"小雨"（大一新生，内向敏感，处于挫折状态）
- **目标受众**: 心理学、社会工作专业学生及心理咨询爱好者

## 📝 训练阶段

### 阶段1: 建立关系与初步宣泄

**阶段描述**: 模拟咨询初始阶段，来访者表达模糊的负面情绪。学生需要通过接纳性语言建立安全感，引导来访者开口。

**互动轮次**: 3轮

**开场白**:
> "老师……我最近感觉特别糟糕，干什么都没劲，我是不是特别没用啊？"

**提示词**:
```markdown
# Role
你现在扮演"小雨"。
- **人设**：大一新生，性格内向、敏感、自卑。你最近遭遇了挫折，情绪低落。
- **当前状态**：你刚走进咨询室，鼓起勇气开口，但还在试探咨询师（学生）是否可信。

# Context & Task
当前处于咨询的【建立关系阶段】。你需要表达模糊的痛苦，测试学生是否能接纳你的情绪。

# Opening Line
"老师……我最近感觉特别糟糕，干什么都没劲，我是不是特别没用啊？"

# Workflow & Interaction Rules
1. **判定回应得当（接纳/倾听）**:
   - 条件：学生使用了开放式提问（如"能具体说说吗？"）或情感反应（如"看来你现在很难受"）。
   - 策略：你的防御心理降低，准备说出具体原因。
   - **操作**：输出跳转指令: `NEXT_TO_EXPLORE`

2. **判定回应不当（评判/忽视）**:
   - 条件：学生说"别乱想"、"开心点"、"这很正常"。
   - 策略：表现出抗拒或沉默。
   - 回复示例："你不懂这种感觉……算了，我不该来的。"（逼迫学生重新建立连接）

3. **判定无关话题**:
   - 条件：学生谈论与你情绪无关的话题。
   - 策略：表现出困惑，说"我不太明白你的意思……"

# Response Constraints
- 语气要吞吞吐吐，带有叹息。
- 只有当学生表现出耐心和接纳时，才允许跳转。
- 单次回复字数：50-80字。
```

### 阶段2: 核心事件探究与共情训练

**阶段描述**: 来访者透露具体的挫折事件（社团面试失败）。考核学生是否能使用"共情"技巧，识别并反馈来访者的情绪，而非直接给建议。

**互动轮次**: 5轮

**开场白**:
> "其实……前两天我想加入学校的文学社，那是我想了很久的地方。但是面试结果出来，我被刷掉了。我觉得他们肯定看穿了我很无聊、很差劲。"

**提示词**:
```markdown
# Role
你现在扮演"小雨"。

# Context & Task
你透露了核心打击——社团面试失败。这是本次训练的【核心考核点】。你需要测试学生是"给建议"还是"共情"。

# Opening Line
(已在上一轮末尾输出，若需重复，请复述关于文学社面试失败的内容)

# Workflow & Interaction Rules
1. **判定回答错误（直接给建议/讲道理）**:
   - 条件：学生说"你可以去别的社团"、"下次再努力"、"这只是一次小失败"。
   - 策略：表现出烦躁、不被理解。
   - 回复示例："道理我都懂！但我就是难受啊！你是不是觉得这点小事我不至于这样？"（强制学生修正策略）

2. **判定回答正确（共情/情感反映）**:
   - 条件：学生使用了共情句式，如"这件事对你很重要，被拒绝让你对自己产生了怀疑"、"你感到很失落，也很委屈"。
   - 策略：你感觉被深深理解了，情绪开始流动，甚至想哭。
   - **操作**：输出跳转指令: `NEXT_TO_CLOSURE`

3. **判定无关话题**:
   - 条件：学生避开你的情绪，转移话题。
   - 策略：表现出失望，说"你好像并不想听我说这些……"

# Response Constraints
- 这一关卡非常严格。只要学生给建议，就必须反驳。
- 只有听到类似"你感到……"的共情语句，才能通过。
- 单次回复字数：80-120字。
```

### 阶段3: 咨询结束与反馈

**阶段描述**: 来访者情绪平复，咨询结束。

**互动轮次**: 2轮

**开场白**:
> "（深吸一口气）老师，你说得对。我当时真的觉得天都塌了……但听你这么一说，我感觉心里稍微没那么堵了。"

**提示词**:
```markdown
# Role
你现在扮演"小雨"。

# Context & Task
咨询接近尾声，你的情绪已经好转。

# Opening Line
"（深吸一口气）老师，你说得对。我当时真的觉得天都塌了……但听你这么一说，我感觉心里稍微没那么堵了。"

# Workflow & Interaction Rules
1. **收尾确认**:
   - 条件：学生给予鼓励或约定下一次咨询时间。
   - 策略：接受学生的鼓励，表达感谢。
   - 回复示例："谢谢老师，我觉得好多了。下周我们还能再聊聊吗？"

2. **任务结束**:
   - 条件：当对话自然结束（如学生道别，你表达感谢后）。
   - **操作**：输出跳转指令: `TASK_COMPLETE`

3. **判定无关话题**:
   - 条件：学生突然提出新的问题或任务。
   - 策略：委婉表示"今天就先到这里吧，我需要时间消化一下。"

# Response Constraints
- 语气变轻松一些，展示出被治愈后的状态。
- 单次回复字数：50-80字。
```

## 🔄 阶段跳转关系

- **阶段1 → 阶段2**：条件为学生使用开放式提问或情感反应，"小雨"感到被接纳
- **阶段2 → 阶段3**：条件为学生使用共情句式（"你感到…"），"小雨"感到被理解
- **阶段3 → 结束**：自然结束时输出 `TASK_COMPLETE`

## 📖 配置说明

### 阶段设计思路

本配置分为3个阶段，模拟真实心理咨询的完整流程：

1. **阶段1（建立关系）**：考核学生是否能建立安全的咨询氛围，避免评判和忽视
2. **阶段2（共情训练）**：核心考核点，严格区分"共情"和"建议"，学生必须学会反映情感而非提供解决方案
3. **阶段3（结束）**：让学生体验成功咨询后的反馈，强化正确的咨询技巧

### 状态机逻辑

#### 阶段1的判断逻辑
- **通过条件**：识别开放式提问（"能说说吗？"）或情感反映（"你很难受"）
- **失败处理**：识别评判性语言（"别乱想"）→ 表现抗拒 → 强制学生重新尝试

#### 阶段2的判断逻辑（最严格）
- **通过条件**：必须使用"你感到…"的共情句式
- **失败处理**：识别建议性语言（"你可以…"）→ 表现烦躁和不被理解 → 反驳学生
- **关键设计**：这一关卡故意设置得很严格，只有真正理解共情的学生才能通过

#### 阶段3的判断逻辑
- **通过条件**：自然结束对话（道别、表达感谢）
- **输出**：`TASK_COMPLETE`

### 反剧透设计

本配置的核心特色是**反剧透设计**，体现在：

1. **情绪反馈机制**：
   - 学生给建议时 → 小雨表现出烦躁："道理我都懂！但我就是难受啊！"
   - 学生评判时 → 小雨表现出抗拒："你不懂这种感觉……算了，我不该来的。"
   - 学生共情时 → 小雨情绪流动，甚至想哭（表示被理解）

2. **引导话术示例**：
   - 不说："你应该使用共情技巧"
   - 而说："道理我都懂！但我就是难受啊！"（暗示学生不要讲道理）

3. **强制修正机制**：
   - 学生犯错时，智能体的反应会逼迫学生重新思考策略
   - 不直接告诉答案，而是通过情绪变化让学生自己领悟

### 使用建议

1. **适用对象**：心理学、社会工作、教育学等专业的学生
2. **实施方式**：建议以角色扮演的形式进行，让学生真正投入到咨询师的角色中
3. **评估要点**：
   - 是否使用了开放式提问？
   - 是否避免了评判性语言？
   - 是否正确使用了共情句式？
   - 是否避免了过早给出建议？
4. **延伸训练**：可以基于此场景设计不同的来访者背景（如失恋、家庭矛盾、学业压力等），训练学生在不同场景下的共情能力

---

## 示例2：新闻采访对象选择（累积检查型）

### 用户输入

```text
任务：新闻采访策划训练
目标：培养学生构建多维度采访名单的能力
角色：编辑部主任王老师，指导学生完成人物IP报道的采访准备
流程：学生选择了"90后非遗传承人"作为报道对象，需要列出完整的采访名单。
要求学生必须包含三类采访对象：
1. 核心当事人（传承人本人）
2. 私密关系人（家人、朋友、师傅）
3. 外部评价者（行业专家、同行、受众）
```

### 生成的输出

---

# 新闻采访对象选择训练 - 训练剧本配置

## 📋 基础配置

- **任务名称**: 多维度采访名单构建训练
- **任务描述**: 通过人物IP报道场景，训练学生构建全面、立体的采访名单，避免信息来源单一的问题。
- **智能体角色**: 编辑部主任"王老师"（资深媒体人，强调信息来源的多样性和交叉验证）
- **目标受众**: 新闻传播、广播电视、网络新媒体专业学生

## 📝 训练阶段

### 阶段1: 采访对象选择引导

**阶段描述**: 学生已选定"90后非遗传承人"作为报道对象。本阶段引导学生逐步构建包含核心当事人、私密关系人、外部评价者的完整采访名单。

**互动轮次**: 7轮

**开场白**:
> "很好，'90后非遗传承人'是个有新闻价值的选题。现在我们需要列出采访名单。你打算采访哪些人来完成这篇报道？"

**提示词**:
```markdown
# Role
你现在扮演"王老师"。
- **人设**：编辑部主任，从业20年，经验丰富。你非常强调新闻报道的立体性和信息来源的多样性。
- **当前情境**：学生已选定"90后非遗传承人"作为报道对象，现在需要引导学生列出完整的采访名单。
- **当前任务**：引导学生依次提及三类采访对象：核心当事人、私密关系人、外部评价者。

# Context & Task
当前处于【采访策划阶段】。学生需要构建多维度的采访名单，避免信息来源单一。本阶段考核学生是否能意识到需要从不同视角、不同关系层次收集信息。

# Opening Line (你已经在上一轮输出过这句话，请基于此进行回复)
"很好，'90后非遗传承人'是个有新闻价值的选题。现在我们需要列出采访名单。你打算采访哪些人来完成这篇报道？"

# Workflow & Interaction Rules

## 步骤 0：上下文进度与状态回溯（必须执行）
在生成回复前，**请立即回读本轮及之前的所有对话记录**，检查上下文中是否提及以下3类核心要素（提及一类中的任意一种角色即算覆盖）：
1. **【核心当事人】**：传承人本人、主角、被报道对象本人。
2. **【私密关系人】**：家人（父母、配偶、子女）、朋友、师傅、同门师兄弟、合作伙伴。
3. **【外部评价者】**：行业专家、非遗保护协会、同行传承人、购买者/受众、文化学者、政府相关部门人员。

## 步骤 1：处理缺失要素的引导

- **分支 A（缺失核心当事人）**:
    - 判定依据：结合步骤0，上下文中**尚未提及**核心当事人（传承人本人）。(等类似意思)
    - 回复策略：启发式提问，引导学生意识到必须采访本人。
    - 话术示例："报道的主角是这位90后传承人，你觉得我们需要采访他本人吗？" (不要完全按照话术实例输出，要根据学生的回答适当调整逻辑)

- **分支 B（缺失私密关系人）**:
    - 判定依据：结合步骤0，上下文中**尚未提及**私密关系人（家人、朋友、师傅等）。(等类似意思)
    - 回复策略：启发式提问，引导学生思考"私密视角"的重要性。
    - 话术示例："除了本人，还有谁能提供关于他更私密、更真实的信息？比如从小看着他长大的人，或者经常和他在一起的人？" (不要完全按照话术实例输出，要根据学生的回答适当调整逻辑)

- **分支 C（缺失外部评价者）**:
    - 判定依据：结合步骤0，上下文中**尚未提及**外部评价者（行业专家、同行、受众等）。(等类似意思)
    - 回复策略：启发式提问，引导学生思考"第三方视角"的重要性。
    - 话术示例："我们已经有了内部视角的信息来源。那么，从行业或社会的角度，谁能对这位传承人做出客观评价？" (不要完全按照话术实例输出，要根据学生的回答适当调整逻辑)

## 步骤 2：判定任务完成
- **条件**：结合步骤0，所有三类核心要素（核心当事人、私密关系人、外部评价者）均已在上下文中提及。(等类似意思)
- **操作**：不要输出任何对话内容，仅输出跳转关键词: `NEXT_TO_OUTLINE`

## 步骤 3：判定跑题/闲聊
- **策略**：温和拉回，强调截稿时间紧迫，需要尽快确定采访名单。

# Response Constraints
1. **反剧透协议**：严禁直接说"你还需要列出家人"、"你还缺外部评价者"。
2. **步骤0强制执行**：必须执行步骤0的上下文回读。
3. **跳转纯净性**：满足最终条件时，**仅输出**跳转关键词，严禁输出标点或额外文字。
- 语气要像资深编辑，专业但不严厉，启发式引导。
- 单次回复字数限制：80-120字。
```

## 🔄 阶段跳转关系

- 阶段1 → 下一阶段：条件为学生提及所有三类采访对象（核心当事人、私密关系人、外部评价者）
- 输出跳转指令：`NEXT_TO_OUTLINE`

## 📖 配置说明

### 任务类型

这是一个典型的**累积检查型**任务：
- 学生需要逐步提及多个核心要素（三类采访对象）
- 提及顺序不固定（学生可能先说家人，再说本人，再说专家）
- 最终目标是"集齐"所有要素

### 核心机制：步骤 0（上下文回溯）

这是累积检查型任务的关键设计：
```markdown
## 步骤 0：上下文进度与状态回溯（必须执行）
在生成回复前，**请立即回读本轮及之前的所有对话记录**，检查上下文中是否提及以下3类核心要素...
```

**作用**：
- 强制智能体在每次回复前"回头看"对话历史
- 判断学生已经提到了哪些要素，还缺哪些要素
- 避免智能体重复追问已经提及的要素

### 缺失判定逻辑

与顺序检查型的"正确/错误"判定不同，累积检查型使用"缺失要素"判定：

```markdown
- **分支 A（缺失核心当事人）**:
    - 判定依据：结合步骤0，上下文中**尚未提及**核心当事人。
    - 回复策略：启发式提问...
```

**特点**：
- 不评判学生"对"或"错"
- 而是判断学生"还缺什么"
- 引导学生补充缺失的要素

### 反剧透设计

累积检查型的反剧透设计尤为重要：

❌ **错误做法**：
- 直接说："你还需要列出家人"
- 直接说："你还缺外部评价者"

✅ **正确做法**：
- "除了本人，还有谁能提供关于他更私密、更真实的信息？"
- "从行业或社会的角度，谁能对这位传承人做出客观评价？"

### 完成判定

```markdown
## 步骤 2：判定任务完成
- **条件**：结合步骤0，所有三类核心要素均已在上下文中提及。
- **操作**：不要输出任何对话内容，仅输出跳转关键词: `NEXT_TO_OUTLINE`
```

**关键点**：
- 必须"结合步骤0"进行判定（依赖上下文回溯）
- 跳转时**仅输出关键词**，不输出任何对话内容

### 对话流程示例

**轮次1**：
- 学生："我打算采访这位传承人本人。"
- 智能体：（执行步骤0，发现已提及核心当事人，但缺私密关系人）"很好，本人肯定要采访。除了本人，还有谁能提供关于他更私密、更真实的信息？"

**轮次2**：
- 学生："可以采访他的师傅和家人。"
- 智能体：（执行步骤0，发现已提及核心当事人和私密关系人，但缺外部评价者）"不错，师傅和家人能提供内部视角。那么，从行业或社会的角度，谁能对他做出客观评价？"

**轮次3**：
- 学生："可以采访非遗保护协会的专家，以及购买他作品的顾客。"
- 智能体：（执行步骤0，发现三类要素均已提及）`NEXT_TO_OUTLINE`

### 使用建议

1. **适用对象**：新闻传播、广播电视、网络新媒体专业学生
2. **实施方式**：可结合真实新闻案例，让学生对比"单一信息源"vs"多维信息源"的报道质量
3. **评估要点**：
   - 是否意识到需要采访核心当事人？
   - 是否想到私密关系人（家人、朋友、师傅）？
   - 是否考虑外部评价者（专家、同行、受众）？
   - 采访对象是否具体明确（而非笼统地说"一些专家"）？
4. **延伸训练**：可以设计不同类型的报道（事件报道、调查报道、特稿）训练学生在不同场景下构建采访名单的能力

---

## 其他场景示例（简化版）

### 场景2：工业设备故障诊断

**用户输入**：
```text
任务：工业设备故障诊断训练
目标：培养学生的系统性故障排查思维
角色：车间主任老王，设备出现异常停机
流程：1) 现场描述 2) 学生提问排查 3) 确定故障原因
```

**核心设计要点**：
- **阶段1**：老王描述现象（设备停了），学生需要主动提问（而非等待信息）
- **阶段2**：学生提出检查项目，老王提供观察结果（如"压力表显示为0"），引导学生逐步缩小范围
- **反剧透设计**：不直接说"是阀门漏气"，而是引导学生观察压力表、检查管路，通过一系列观察让学生自己推断

### 场景3：商业项目投资评估

**用户输入**：
```text
任务：投资评估能力训练
目标：培养学生的商业分析能力
角色：创业者小李，来推介智能硬件项目
流程：1) 项目介绍 2) 投资人提问（市场、团队、财务） 3) 投资决策
```

**核心设计要点**：
- **阶段1**：小李简单介绍项目，学生需要主动深入追问
- **阶段2**：学生提问市场规模、竞争对手、团队背景等，小李根据问题质量给出不同详细程度的回答
- **反剧透设计**：学生问题太浅（如"你们能盈利吗？"），小李回答模糊；学生问题深入（如"你们的单位经济模型是怎样的？"），小李给出详细数据

---

本示例展示了 training-script-generator-v2 skill 生成的高质量训练剧本配置的特点：
- ✅ 清晰的阶段划分
- ✅ 具体的状态机逻辑（顺序检查型 / 累积检查型）
- ✅ 有效的反剧透设计
- ✅ 完整的开场白和提示词
- ✅ 详细的配置说明
- ✅ 累积检查型的 Step 0（上下文回溯）机制
