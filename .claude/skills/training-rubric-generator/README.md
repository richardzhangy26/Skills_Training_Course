# Training Rubric Generator - 训练评价标准生成器

为能力训练生成详细、规范的评价标准，包括评分项、评判指南、正反例。

## 功能特性

✨ **智能评价标准生成**
- 从文档中直接提取现有评价标准
- 如无现有标准，根据任务特点自动生成
- 支持多种课程类型的定制化标准

🎯 **大模型友好的评判指南**
- 详细的评判参考要求（200-300字）
- 清晰的关键评判点列表
- 常见错误提示
- 按分值等级的评分逻辑

📚 **完整的示例体系**
- 优秀回答示例（高分范例）
- 不足回答示例（2个以上常见错误）
- 详细的评价说明

📋 **规范化配置输出**
- JSON格式配置（用于系统集成）
- Markdown格式文档（用于人工查看）
- 完全兼容现有训练系统

## 快速开始

### 使用方法

```bash
python rubric_generator.py "path/to/your/markdown/file.md"
```

### 自动生成流程

#### 情况1：文档中已有评价标准
```
输入: 文档包含评价标准表格
  | 评分项 | 描述 | 分值 |
  | --- | --- | --- |
  | 知识掌握 | 是否理解核心概念 | 3 |

处理: 智能提取表格 → 自动补充详细要求和示例

输出:
  ✓ 原始评分项保留
  ✓ 增加大模型评判指南
  ✓ 生成正反例和评分逻辑
```

#### 情况2：文档中无评价标准
```
输入: 任务目标 + 任务描述

处理: 分析任务要求 → 自动生成合理的评分项 → 补充完整的评判信息

输出:
  ✓ 自动生成3-5个评分项
  ✓ 总分10-20分
  ✓ 包含详细的评判指南和示例
```

## 输出文件说明

执行后会在任务文档目录创建如下文件结构：

```
发电厂变电所 - 锡林郭勒职业学院 2个/
├── 任务1：发电厂、变电所的认知.md
└── 任务1：发电厂、变电所的认知/
    ├── 基础配置.json              # config-setup生成
    ├── 评价标准.json              # ← rubric-generator生成
    └── 评价标准.md                # ← rubric-generator生成
```

### 评价标准.json 结构

完整的JSON配置，包含所有评分项的详细信息：

```json
{
  "rubricName": "训练评价标准",
  "totalScore": 10,
  "description": "详细的评价标准说明",
  "scoringItems": [
    {
      "id": "item_001",
      "name": "知识掌握",
      "maxScore": 3,
      "userDescription": "面向用户的描述",
      "aiGuidelines": {
        "description": "大模型评判参考要求...",
        "keyPoints": ["关键点1", "关键点2"],
        "commonMistakes": ["常见错误1", "常见错误2"],
        "scoringLogic": {
          "fullScore": "3分：完全满足...",
          "goodScore": "2分：基本满足...",
          ...
        }
      },
      "examples": {
        "excellent": {
          "answer": "优秀回答示例",
          "explanation": "为什么这是好回答"
        },
        "poor": [
          {
            "answer": "不足回答示例1",
            "explanation": "存在的问题1"
          }
        ]
      }
    }
  ],
  "metadata": {
    "createdAt": "2025-11-25T...",
    "source": "文档路径",
    "generationMethod": "extracted或generated"
  }
}
```

### 评价标准.md 结构

人类可读的Markdown格式，包含：
- 评分项汇总表
- 每个评分项的详细说明
- 评判指南和关键点
- 正反例说明

## 支持的课程类型

系统会根据课程类型智能生成或增强评价标准：

| 课程类型 | 识别关键词 | 生成的评分项 | 示例 |
|---------|-----------|------------|------|
| 工业故障诊断 | 离心泵、汽蚀、故障 | 故障识别、原因分析、解决方案 | 离心泵汽蚀诊断 |
| 化学实验 | 精馏、操作、实验 | 原理理解、操作规范、结果分析 | 共沸精馏制备 |
| 沟通训练 | 沟通、非暴力、协作 | 倾听能力、表达清晰、问题解决 | 非暴力沟通 |
| 电力系统 | 电力、发电、变电 | 知识掌握、理论应用、分析能力 | 电力系统认知 |
| 通用课程 | 其他 | 知识理解、内容完整、逻辑清晰 | 默认模板 |

## 评价标准的组成

### 1. 评分项基本信息
- **名称**: 清晰简洁（如"知识掌握"）
- **满分值**: 2-5分不等（推荐）
- **用户描述**: 面向学生/教师的简明说明（50-100字）

### 2. 大模型评判参考（关键！）
这部分专门为AI大模型设计，帮助其准确评判：

#### 核心要素说明（200-300字）
- 说明评判的主要内容
- 列举需要评估的具体方面
- 说明常见的问题和陷阱

**示例**:
```
评判学生是否能准确识别离心泵汽蚀现象的特征。
需要检查学生是否提到了：
- 泵发出异常声音（'咔咔'响）
- 出口压力波动
- 泵效率下降

还要评估学生是否能将这些现象与汽蚀现象关联起来，
而不是混淆其他故障现象。
```

#### 关键评判点（3-4个）
明确列出评判时应该关注的具体点

#### 常见错误提示（3-4个）
列出学生常见的错误，帮助大模型识别和避免误判

#### 评分逻辑
按分值等级（满分、良好、中等、不足、缺陷）清晰定义评分标准

### 3. 示例体系

#### 优秀示例（1个）
展示满分或高分应该是什么样
- 示例答案
- 优点说明

#### 不足示例（2个以上）
展示常见的错误或低分情况
- 示例答案
- 问题说明

**示例选择原则**:
- 要真实可能发生的情况
- 不要太明显的错误，而是"看起来有道理但有问题"
- 覆盖不同类型的错误

## 工作流程

### 完整的能力训练配置流程

```
1️⃣  training-config-setup
    └─ 生成基础配置和封面图

2️⃣  training-rubric-generator
    └─ 生成评价标准（你在这里！）

3️⃣  training-script-generator
    └─ 生成完整的训练剧本配置

4️⃣  training-dialogue-simulator
    └─ 模拟对话流程测试
```

### 建议使用顺序

```bash
# 第一步：生成基础配置
python config_generator.py task.md

# 第二步：生成评价标准
python rubric_generator.py task.md

# 第三步：生成训练剧本
# 使用 training-script-generator skill

# 第四步：模拟对话测试
# 使用 training-dialogue-simulator skill
```

## 常见问题

**Q: 如果文档中有评价标准，会直接使用吗？**
A: 是的。系统会智能提取文档中的评价标准表，保留原有信息，并自动补充详细的评判指南、正反例等内容。

**Q: 自动生成的评价标准会很泛泛吗？**
A: 不会。系统会识别课程类型（通过关键词匹配），为不同类型的课程生成专门的、具有针对性的评价标准。

**Q: 生成的正反例准确吗？**
A: 我们使用了数据库模式，根据评分项类型生成高质量的示例。如果不满意，用户可以手动修改JSON文件中的examples部分。

**Q: 大模型评判指南有多详细？**
A: 每个评分项的评判指南都是200-300字的详细说明，包括关键点、常见错误、评分逻辑等，足以指导AI模型的评判过程。

**Q: 可以修改生成的评价标准吗？**
A: 完全可以。生成的JSON和Markdown都可以编辑。修改后重新上传到平台即可。

## 技术特点

✅ **智能识别系统**
- 自动识别课程类型
- 根据任务内容定制评价标准

✅ **多格式输出**
- JSON格式（便于系统集成）
- Markdown格式（便于人工查看和修改）

✅ **大模型优化**
- 评判指南专门为AI设计
- 包含关键点、常见错误、评分逻辑
- 提供正反例学习

✅ **完整的示例体系**
- 优秀示例展示高标准
- 多个不足示例覆盖常见错误
- 帮助大模型更准确地评判

## 版本信息

- **当前版本**: v1.0
- **发布日期**: 2025-11-25
- **状态**: 稳定版本

## 相关资源

- [SKILL.md](./SKILL.md) - 完整技术文档
- [rubric_generator.py](./rubric_generator.py) - 核心Python实现
- [examples.md](./examples.md) - 详细使用示例
